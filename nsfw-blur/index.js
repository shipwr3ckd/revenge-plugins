(()=>{return (()=>{var a=Object.defineProperty;var c=Object.getOwnPropertyDescriptor;var p=Object.getOwnPropertyNames;var d=Object.prototype.hasOwnProperty;var h=(e,n)=>{for(var o in n)a(e,o,{get:n[o],enumerable:!0})},y=(e,n,o,s)=>{if(n&&typeof n=="object"||typeof n=="function")for(let t of p(n))!d.call(e,t)&&t!==o&&a(e,t,{get:()=>n[t],enumerable:!(s=c(n,t))||s.enumerable});return e};var P=e=>y(a({},"__esModule",{value:!0}),e);var C={};h(C,{default:()=>A});var f=vendetta.metro,g=vendetta.patcher;var u=e=>e;var i=[],A=u({onLoad(){let e=(0,f.findByName)("transformMessageAttachments",!1),n=(0,f.findByName)("createMessageContent",!1),o=findByProps("getChannel").getChannel;i.push((0,g.before)("default",e,s=>{})),i.push((0,g.before)("default",n,s=>{let t=s[0];if(!t||typeof t!="object"||!t.message||!t.message.channel_id||!o(t.message.channel_id).nsfw_||!t.options)return;t.options.inlineEmbedMedia=!1;let r=t.message;if(!(!r||!(r.attachments instanceof Array))){t.options.shouldObscureSpoiler=!0;for(let m of r.attachments)m.spoiler=!0}}))},onUnload(){for(let e of i)e()}});return P(C);})()})()