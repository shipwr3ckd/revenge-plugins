(()=>{return (()=>{var r=Object.defineProperty;var m=Object.getOwnPropertyDescriptor;var p=Object.getOwnPropertyNames;var c=Object.prototype.hasOwnProperty;var d=(e,t)=>{for(var i in t)r(e,i,{get:t[i],enumerable:!0})},h=(e,t,i,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of p(t))!c.call(e,o)&&o!==i&&r(e,o,{get:()=>t[o],enumerable:!(n=m(t,o))||n.enumerable});return e};var y=e=>h(r({},"__esModule",{value:!0}),e);var C={};d(C,{default:()=>P});var l=vendetta.metro,f=vendetta.patcher;var a=e=>e;var g=[],P=a({onLoad(){let e=(0,l.findByName)("createMessageContent",!1),t=findByProps("getChannel").getChannel;g.push((0,f.before)("default",e,i=>{let n=i[0];if(!n||typeof n!="object"||!n.message||!n.message.channel_id||!t(n.message.channel_id).nsfw_||!n.options)return;n.options.inlineEmbedMedia=!1;let o=n.message;if(!(!o||!(o.attachments instanceof Array))){n.options.shouldObscureSpoiler=!0;for(let u of o.attachments)u.spoiler=!0}}))},onUnload(){for(let e of g)e()}});return y(C);})()})()